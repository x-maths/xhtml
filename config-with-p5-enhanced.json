{
  "title": "æ•°å­¦å†’é™©:ä½™æ•°æ˜Ÿçƒæ¢ç´¢(å«åŠ¨ç”»)",
  "subtitle": "[ MISSION: è§£é”åŒä½™å®šç†çš„ç§˜å¯† ]",
  "missionIcon": "ğŸ“¡",
  "energyLabel": "çŸ¥è¯†èƒ½é‡",
  "audioUrl": "https://cdn.jsdelivr.net/gh/x-maths/xhtml@20251209/audio/L1_07.wav",
  "missionBrief": [
    "æŒ‡æŒ¥å®˜,æ¬¢è¿æ¥åˆ°ä½™æ•°æ˜Ÿçƒ!",
    "å®Œæˆå¯¹è¯ç‰¹è®­,è§£é”åŒä½™å®šç†çš„ç»ˆæç§˜å¯†!"
  ],
  "summaryTitle": "ä»»åŠ¡æƒ…æŠ¥æ±‡æ€»",
  "stages": [
    {
      "id": "stage-1",
      "content": [
        {
          "type": "dialogue",
          "speaker": "teacher",
          "content": "åŒå­¦ä»¬,å¤§å®¶æœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™æ ·çš„æƒ…å†µ:åˆ†è›‹ç³•ã€åˆ†ç³–æœçš„æ—¶å€™,åˆšå¥½åˆ†å®Œçš„æƒ…å†µä¸å¤š,æ˜¯ä¸æ˜¯ç»å¸¸ä¼šå‰©ä¸‹ä¸€ç‚¹ç‚¹å‘¢?"
        },
        {
          "type": "dialogue",
          "speaker": "student",
          "content": "æœ‰æœ‰æœ‰!æˆ‘åˆ†é¥¼å¹²çš„æ—¶å€™å°±å¸¸å¸¸å‰©ä¸‹å‡ å—!"
        },
        {
          "type": "dialogue",
          "speaker": "teacher",
          "content": "å“ˆå“ˆ,å¯¹å•¦!ä»Šå¤©æˆ‘ä»¬è¦è®¤è¯†çš„å°±æ˜¯è¿™ä¸ª\"å‰©ä¸‹ä¸€ç‚¹ç‚¹\"çš„å°ä¼™ä¼´,å®ƒåœ¨æ•°å­¦é‡Œæœ‰ä¸ªå¥½å¬çš„åå­—,å«åš\"ä½™æ•°\"ã€‚æ¯”å¦‚,æˆ‘ä»¬æœ‰åä¸ªè‹¹æœ,åˆ†ç»™ä¸‰ä½å°æœ‹å‹,æ¯äººåˆ†å‡ ä¸ª?è¿˜å‰©å‡ ä¸ªå‘€?"
        },
        {
          "type": "p5",
          "title": "å¯è§†åŒ–æ¼”ç¤º",
          "containerId": "remainder-demo",
          "caption": "10 Ã· 3 = 3 ... 1",
          "sketchId": "remainderSketch"
        },
        {
          "type": "dialogue",
          "speaker": "student",
          "content": "æ¯äººåˆ†ä¸‰ä¸ª,è¿˜å‰©ä¸€ä¸ª!"
        },
        {
          "type": "level",
          "id": "level-1",
          "title": "âš¡ çªå‘æµ‹è¯•: åŸºç¡€è®¡ç®—",
          "exp": 50,
          "question": "17 ä¸ªæ•°æ®åŒ… Ã· 5 ä¸ªèŠ‚ç‚¹",
          "hint": "ä½™æ•°æ˜¯å¤šå°‘?",
          "correctAnswer": 2,
          "gridCols": 4,
          "options": [
            {"label": "1", "value": 1},
            {"label": "2", "value": 2},
            {"label": "3", "value": 3},
            {"label": "4", "value": 4}
          ],
          "feedback": "å›ç­”æ­£ç¡®!"
        }
      ]
    },
    {
      "id": "stage-2",
      "content": [
        {
          "type": "dialogue",
          "speaker": "teacher",
          "content": "é‚£ç°åœ¨è€å¸ˆæœ‰ä¸€ä¸ªå°é—®é¢˜æƒ³è€ƒè€ƒå¤§å®¶ã€‚å¦‚æœç°åœ¨æ˜¯ä¸Šåˆåç‚¹,å†è¿‡åäº”ä¸ªå°æ—¶æ˜¯å‡ ç‚¹å‘¢?"
        },
        {
          "type": "boss",
          "title": "Î© æ—¶ç©ºæŠ˜å ",
          "description": "å½“å‰æ—¶é—´: ä¸Šåˆ 10:00 | æ—¶é—´è·³è·ƒ: +15 å°æ—¶",
          "hint": "è¯·è®¡ç®—æ–°çš„æ—¶é—´ç‚¹ (24å°æ—¶åˆ¶ æˆ– ä¸Šåˆ/ä¸‹åˆ)",
          "correctAnswer": "å‡Œæ™¨1ç‚¹",
          "options": [
            {"label": "å‡Œæ™¨1ç‚¹", "value": "å‡Œæ™¨1ç‚¹"},
            {"label": "ä¸‹åˆ1ç‚¹", "value": "ä¸‹åˆ1ç‚¹"},
            {"label": "å‡Œæ™¨12ç‚¹", "value": "å‡Œæ™¨12ç‚¹"},
            {"label": "å‡Œæ™¨2ç‚¹", "value": "å‡Œæ™¨2ç‚¹"}
          ],
          "successMessage": "ä»»åŠ¡å®Œæˆ!",
          "successDetail": "ä½ å·²æŒæ¡åŒä½™ä¹‹åŠ›!"
        }
      ]
    }
  ],
  "summary": [
    {
      "title": "[ ä½™æ•°ç³»ç»Ÿ ]",
      "content": "é™¤æ³•è¿ç®—åçš„å‰©ä½™å•å…ƒ,æ’å°äºé™¤æ•°åŸºæ•°"
    },
    {
      "title": "[ åŒä½™åè®® ]",
      "content": "ç›¸åŒæ¨¡æ•°ä¸‹ä½™æ•°ç›¸ç­‰çš„æ•°å€¼å…³ç³»"
    },
    {
      "title": "[ å®æˆ˜åº”ç”¨ ]",
      "content": "å‘¨æœŸæ€§é—®é¢˜(å¦‚æ—¶é—´ã€å¾ªç¯åˆ—è¡¨)çš„é«˜æ•ˆè§£å†³æ–¹æ¡ˆ"
    }
  ],
  "p5Sketches": [
    {
      "id": "remainderSketch",
      "description": "ä½™æ•°æ¼”ç¤ºåŠ¨ç”» - 10ä¸ªè‹¹æœåˆ†ç»™3ä¸ªå°æœ‹å‹",
      "containerId": "remainder-demo",
      "params": {
        "totalApples": 10,
        "totalKids": 3
      },
      "code": "(function(p, containerId, params) {\n  const totalApples = params.totalApples || 10;\n  const totalKids = params.totalKids || 3;\n  let apples = [];\n  let kids = [];\n  let animationStep = 0;\n  let stepTimer = 0;\n  let canvasWidth = 400;\n  let canvasHeight = 300;\n  \n  p.setup = function() {\n    const container = document.getElementById(containerId);\n    if (container) {\n      canvasWidth = Math.min(400, container.clientWidth - 20);\n      canvasHeight = 300;\n    }\n    const canvas = p.createCanvas(canvasWidth, canvasHeight);\n    canvas.parent(containerId);\n    \n    // åˆå§‹åŒ–è‹¹æœä½ç½®\n    for (let i = 0; i < totalApples; i++) {\n      apples.push({\n        x: 50 + (i % 5) * 60,\n        y: 50 + Math.floor(i / 5) * 60,\n        targetX: 0,\n        targetY: 0,\n        assigned: false,\n        kidIndex: -1\n      });\n    }\n    \n    // åˆå§‹åŒ–å°æœ‹å‹ä½ç½®\n    const spacing = canvasWidth / (totalKids + 1);\n    for (let i = 0; i < totalKids; i++) {\n      kids.push({\n        x: spacing * (i + 1),\n        y: canvasHeight - 80,\n        count: 0\n      });\n    }\n  };\n  \n  p.draw = function() {\n    p.background(20, 25, 50);\n    \n    // ç»˜åˆ¶æ ‡é¢˜\n    p.fill(100, 212, 255);\n    p.textAlign(p.CENTER);\n    p.textSize(16);\n    p.text(`${totalApples} Ã· ${totalKids} = ?`, canvasWidth / 2, 25);\n    \n    // åŠ¨ç”»é€»è¾‘\n    stepTimer++;\n    if (stepTimer > 60 && animationStep < totalApples) {\n      const apple = apples[animationStep];\n      const kidIndex = animationStep % totalKids;\n      apple.assigned = true;\n      apple.kidIndex = kidIndex;\n      apple.targetX = kids[kidIndex].x;\n      apple.targetY = kids[kidIndex].y - 40 - kids[kidIndex].count * 25;\n      kids[kidIndex].count++;\n      animationStep++;\n      stepTimer = 0;\n    }\n    \n    // ç»˜åˆ¶è‹¹æœ\n    for (let apple of apples) {\n      if (apple.assigned) {\n        apple.x = p.lerp(apple.x, apple.targetX, 0.1);\n        apple.y = p.lerp(apple.y, apple.targetY, 0.1);\n      }\n      \n      // è‹¹æœé¢œè‰²æ ¹æ®æ˜¯å¦åˆ†é…æ”¹å˜\n      if (apple.assigned) {\n        p.fill(100, 212, 255);\n      } else {\n        p.fill(251, 191, 36);\n      }\n      p.noStroke();\n      p.ellipse(apple.x, apple.y, 20, 20);\n      p.fill(139, 69, 19);\n      p.rect(apple.x - 2, apple.y - 12, 4, 8);\n    }\n    \n    // ç»˜åˆ¶å°æœ‹å‹\n    for (let i = 0; i < kids.length; i++) {\n      const kid = kids[i];\n      p.fill(168, 85, 247);\n      p.ellipse(kid.x, kid.y, 40, 40);\n      p.fill(255);\n      p.textSize(12);\n      p.textAlign(p.CENTER);\n      p.text(`ğŸ‘¦${i + 1}`, kid.x, kid.y + 5);\n      \n      // æ˜¾ç¤ºæ•°é‡\n      p.fill(100, 212, 255);\n      p.textSize(14);\n      p.text(kid.count, kid.x, kid.y + 60);\n    }\n    \n    // æ˜¾ç¤ºç»“æœ\n    if (animationStep >= totalApples) {\n      const quotient = Math.floor(totalApples / totalKids);\n      const remainder = totalApples % totalKids;\n      p.fill(34, 197, 94);\n      p.textSize(18);\n      p.textAlign(p.CENTER);\n      p.text(`æ¯äºº ${quotient} ä¸ª, ä½™ ${remainder} ä¸ª`, canvasWidth / 2, canvasHeight - 20);\n    }\n  };\n  \n  p.windowResized = function() {\n    const container = document.getElementById(containerId);\n    if (container) {\n      canvasWidth = Math.min(400, container.clientWidth - 20);\n      p.resizeCanvas(canvasWidth, canvasHeight);\n    }\n  };\n})"
    }
  ]
}
