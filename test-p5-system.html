<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P5.js åŠ¨ç”»ç³»ç»Ÿæµ‹è¯•</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #00d4ff;
            padding-bottom: 10px;
        }
        h2 {
            color: #7c3aed;
            margin-top: 0;
        }
        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            background: linear-gradient(135deg, #00d4ff, #7c3aed);
            color: white;
            cursor: pointer;
            font-size: 14px;
            transition: transform 0.2s;
        }
        button:hover {
            transform: translateY(-2px);
        }
        .info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #2196f3;
            margin: 10px 0;
        }
        .code {
            background: #263238;
            color: #aed581;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <h1>ğŸ¨ P5.js åŠ¨ç”»ç³»ç»Ÿæµ‹è¯•é¡µé¢</h1>
    
    <div class="card">
        <h2>ğŸ“– ä½¿ç”¨è¯´æ˜</h2>
        <p>æœ¬é¡µé¢ç”¨äºæµ‹è¯• p5.js åŠ¨ç”»æ¸²æŸ“ç³»ç»Ÿçš„ä¸‰ç§é…ç½®æ–¹å¼:</p>
        <ol>
            <li><strong>å†…è”ä»£ç </strong>: ä»£ç ç›´æ¥åµŒå…¥é…ç½®æ–‡ä»¶</li>
            <li><strong>å¤–éƒ¨ URL</strong>: ä»å¤–éƒ¨ JavaScript æ–‡ä»¶åŠ è½½ä»£ç </li>
            <li><strong>å…¨å±€å‡½æ•°</strong>: ä½¿ç”¨é¡µé¢ä¸­å·²å®šä¹‰çš„å‡½æ•°</li>
        </ol>
    </div>

    <div class="card">
        <h2>ğŸš€ å¿«é€Ÿæµ‹è¯•</h2>
        <div class="button-group">
            <button onclick="loadConfig('config-with-p5-enhanced.json')">
                æµ‹è¯•å†…è”ä»£ç é…ç½®
            </button>
            <button onclick="loadConfig('config-external-sketch.json')">
                æµ‹è¯•å¤–éƒ¨ URL é…ç½®
            </button>
            <button onclick="window.location.href='template.html?config=config-with-p5.json'">
                æ‰“å¼€åŸå§‹é…ç½®
            </button>
        </div>
        
        <div class="info" style="margin-top: 15px;">
            <strong>ğŸ’¡ æç¤º:</strong> ç‚¹å‡»æŒ‰é’®å°†åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€å¯¹åº”çš„é…ç½®é¡µé¢
        </div>
    </div>

    <div class="card">
        <h2>ğŸ“ é…ç½®æ–‡ä»¶è¯´æ˜</h2>
        
        <h3>1. config-with-p5-enhanced.json (å†…è”ä»£ç )</h3>
        <p>åŠ¨ç”»ä»£ç ç›´æ¥åµŒå…¥åœ¨é…ç½®æ–‡ä»¶çš„ <code>code</code> å­—æ®µä¸­</p>
        <div class="code">
{
  "p5Sketches": [
    {
      "id": "remainderSketch",
      "code": "(function(p, containerId, params) { ... })",
      "params": { "totalApples": 10, "totalKids": 3 }
    }
  ]
}
        </div>

        <h3>2. config-external-sketch.json (å¤–éƒ¨ URL)</h3>
        <p>ä»å¤–éƒ¨æ–‡ä»¶åŠ è½½åŠ¨ç”»ä»£ç </p>
        <div class="code">
{
  "p5Sketches": [
    {
      "id": "remainderSketch",
      "codeUrl": "./sketches/remainder-sketch.js",
      "params": { "totalApples": 10, "totalKids": 3 }
    }
  ]
}
        </div>

        <h3>3. å…¨å±€å‡½æ•°æ–¹å¼ (æœ¬é¡µé¢æ¼”ç¤º)</h3>
        <p>åœ¨ HTML é¡µé¢ä¸­å®šä¹‰å‡½æ•°,é…ç½®ä¸­å¼•ç”¨å‡½æ•°å</p>
        <div class="code">
// HTML ä¸­å®šä¹‰
&lt;script&gt;
  function mySketch(p, containerId, params) {
    p.setup = function() { ... };
    p.draw = function() { ... };
  }
&lt;/script&gt;

// é…ç½®ä¸­å¼•ç”¨
{
  "p5Sketches": [
    {
      "id": "mySketch",
      "sketchFunction": "mySketch"
    }
  ]
}
        </div>
    </div>

    <div class="card">
        <h2>ğŸ”§ å¼€å‘å·¥å…·</h2>
        <div class="button-group">
            <button onclick="window.open('README-p5-system.md')">
                ğŸ“š å®Œæ•´æ–‡æ¡£
            </button>
            <button onclick="window.open('P5-QUICK-REFERENCE.md')">
                âš¡ å¿«é€Ÿå‚è€ƒ
            </button>
            <button onclick="window.open('sketches/remainder-sketch.js')">
                ğŸ“„ ç¤ºä¾‹ä»£ç 
            </button>
        </div>
    </div>

    <div class="card">
        <h2>ğŸ¯ åˆ›å»ºè‡ªå·±çš„åŠ¨ç”»</h2>
        <ol>
            <li>å¤åˆ¶ <code>config-with-p5-enhanced.json</code> åˆ›å»ºæ–°é…ç½®æ–‡ä»¶</li>
            <li>åœ¨ <code>stages[].content[]</code> ä¸­æ·»åŠ  p5 ç±»å‹å†…å®¹é¡¹</li>
            <li>åœ¨ <code>p5Sketches[]</code> ä¸­å®šä¹‰åŠ¨ç”»ä»£ç </li>
            <li>é€‰æ‹©ä»£ç åŠ è½½æ–¹å¼ (å†…è”/URL/å…¨å±€)</li>
            <li>è®¿é—®: <code>template.html?config=ä½ çš„é…ç½®.json</code></li>
        </ol>
        
        <div class="info">
            <strong>ğŸ“– å‚è€ƒæ–‡æ¡£:</strong>
            <ul style="margin: 10px 0 0 0;">
                <li><code>README-p5-system.md</code> - å®Œæ•´ç³»ç»Ÿæ–‡æ¡£</li>
                <li><code>P5-QUICK-REFERENCE.md</code> - å¿«é€Ÿå‚è€ƒæŒ‡å—</li>
                <li><code>sketches/remainder-sketch.js</code> - åŠ¨ç”»ä»£ç ç¤ºä¾‹</li>
            </ul>
        </div>
    </div>

    <div class="card">
        <h2>ğŸ› è°ƒè¯•æŠ€å·§</h2>
        <ul>
            <li>æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹åˆå§‹åŒ–æ—¥å¿—</li>
            <li>æ£€æŸ¥ <code>window.p5ConfigMap</code> æŸ¥çœ‹é…ç½®æ˜ å°„</li>
            <li>è®¿é—® <code>window.p5_[sketchId]</code> è·å– p5 å®ä¾‹</li>
            <li>ç¡®è®¤ <code>containerId</code> å’Œ <code>sketchId</code> åŒ¹é…</li>
            <li>éªŒè¯ sketch ä»£ç æ ¼å¼: <code>(function(p, containerId, params) { ... })</code></li>
        </ul>
    </div>

    <script>
        function loadConfig(configFile) {
            window.open(`template.html?config=${configFile}`, '_blank');
        }

        // æ˜¾ç¤ºå½“å‰ç¯å¢ƒä¿¡æ¯
        console.log('ğŸ“ å½“å‰è·¯å¾„:', window.location.href);
        console.log('ğŸ“ å¯ç”¨é…ç½®æ–‡ä»¶:');
        console.log('  - config-with-p5.json (åŸå§‹é…ç½®)');
        console.log('  - config-with-p5-enhanced.json (å†…è”ä»£ç )');
        console.log('  - config-external-sketch.json (å¤–éƒ¨ URL)');
        console.log('ğŸ“š æ–‡æ¡£æ–‡ä»¶:');
        console.log('  - README-p5-system.md (å®Œæ•´æ–‡æ¡£)');
        console.log('  - P5-QUICK-REFERENCE.md (å¿«é€Ÿå‚è€ƒ)');
        console.log('ğŸ“„ ç¤ºä¾‹ä»£ç :');
        console.log('  - sketches/remainder-sketch.js');
    </script>
</body>
</html>
